<!DOCTYPE html>
<meta charset="UTF-8">
<html>
<head>
    <title>Desynced blueprint decoder/encoder</title>
    <style>
        #output {
            font-family: monospace;
            white-space: pre;
        }
    </style>
</head>
<body>
    <div id="exchange-mode">

    </div>
    <div id="ron-mode">

    </div>
    <div id="json-mode">

    </div>
    <div>
        <textarea id="input" style="min-width: 600px;" rows="15"></textarea>
    </div>
    <button id="decode">Decode</button>
    <div id="output"></div>
</body>
<script type="module">
    import * as desynced_exchange_web from "./pkg/desynced_exchange_web.js";

    async function main() {
        await desynced_exchange_web.default();
        let input = document.getElementById("input");
        let button = document.getElementById("decode");
        let output = document.getElementById("output");
        button.addEventListener("click", () => {
            try {
                output.innerHTML = desynced_exchange_web.exchange_to_ron(
                    input.value
                );
            } catch (error) {
                output.innerHTML = error;
            }
        });
    }
    main()
</script>
</html>
